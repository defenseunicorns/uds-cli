includes:
  - imported: ./tasks-to-import.yaml

variables:
  - name: REPLACE_ME
    default: replaced

tasks:
  - name: copy
    files:
      - source: base
        target: copy
  - name: copy-exec
    files:
      - source: exectest
        target: exec
        executable: true
  - name: copy-verify
    files:
      - source: data
        target: verify
        shasum: 9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08
  - name: copy-symlink
    files:
      - source: symtest
        target: symcopy
        symlinks:
          - "testlink"
  - name: remote
    actions:
      # tasks imported from imported-tasks.yaml
      - task: imported:fetch-checksums
  - name: template-file
    files:
      - source: raw
        target: templated
  - name: action
    actions:
      - cmd: echo "specific test string"
  - name: cmd-set-variable
    actions:
      - cmd: echo unique-value
        mute: true
        setVariables:
          - name: ACTION_VAR
            sensitive: true
      - cmd: echo "I'm set from setVariables - ${ACTION_VAR}"
      - cmd: echo "I'm set from a runner var - ${REPLACE_ME}"
      - cmd: echo "I'm set from a --set var - ${REPLACE_ME}"
      - cmd: echo "I'm set from a new --set var - ${UNICORNS}"
  - name: reference
    actions:
      - task: referenced
  - name: referenced
    actions:
      - cmd: echo "other-task"
  - name: recursive
    actions:
      - task: recursed
  - name: recursed
    actions:
      - task: recursed1
  - name: recursed1
    actions:
      - task: recursive
